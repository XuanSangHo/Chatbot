<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/bootstrap.min.css') }}">
    
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/styles.css') }}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <title>Chatbot</title>
</head>
<body>
    <!-- <div id="banner">
        <div id="bg-banner"></div>
        <h1 class=" text-capitalize font-weight-bold">university reviews</h1>
        <h3 class="text-center text-light">
          A place to share basic information about university
        </h3>
      </div>

      <div class="container">
        <div class="row">
          <div class="col-md-3 p-0" id="sidebar">
            <div id="filter" class="text-center">
              <a href="#" class="map d-block text-center">
                <i class="fas fa-map-marked-alt"></i> Xem v·ªã tr√≠
              </a>
              <form action="" class="filter-form">
                <div class="form-group">
                  <label for="" class="region d-block font-weight-bold">
                    T√¨m ki·∫øm theo v√πng
                  </label>
                  <label for="" class="locate d-block">
                    <input type="radio" name="locate" value="" id="bac" />
                    <label for="bac">Mi·ªÅn B·∫Øc</label>
                  </label>
                  <label for="" class="locate d-block">
                    <input type="radio" name="locate" value="" id="trung" />
                    <label for="trung">Mi·ªÅn Trung</label>
                  </label>
                  <label for="" class="locate  d-block">
                    <input type="radio" name="locate" value="" id="nam" />
                    <label for="nam">Mi·ªÅn Nam</label>
                  </label>
                  <hr />
                   -----------end t√¨m ki·∫øm theo v√πng---------- 
                  <label for="" class="region d-block font-weight-bold mb-3">
                    Nh√≥m ng√†nh
                  </label>
                  <label for="" class="locate d-block margin-r-10">
                    <select
                      name="nhomNghanh"
                      id="nhomNghanh"
                      class="form-control"
                    >
                      <option value="">T·∫•t c·∫£ nh√≥m ngh√†nh</option>
                      <option value="">S·∫£n xu·∫•t v√† ch·∫ø bi·∫øn</option>
                      <option value="">Ki·∫øn tr√∫c v√† x√¢y d·ª±ng</option>
                      <option value="">Kinh doanh</option>
                      <option value="">C√¥ng ngh·ªá v√† th√¥ng tin</option>
                      <option value="">Lu·∫≠t v√† nh√¢n vƒÉn</option>
                      <option value="">Ngh·ªá thu·∫≠t-th·∫©m m·ªπ-ƒë·ªì h·ªça</option>
                      <option value="">B√°o ch√≠-khoa h·ªçc v√† x√£ h·ªôi</option>
                      <option value="">Khoa h·ªçc c∆° b·∫£n</option>
                      <option value="">S∆∞ Ph·∫°m</option>
                      <option value="">N√¥ng-l√¢m-ng∆∞ nghi·ªáp</option>
                    </select>
                  </label>
                  <hr />
                  -----------end nh√≥m ngh√†nh---------- 
                  <label for="" class="region d-block font-weight-bold mb-3">
                    Ng√†nh
                  </label>
                  <label for="" class="locate d-block margin-r-10">
                    <select
                      name="nhomNghanh"
                      id="nhomNghanh"
                      class="form-control"
                    >
                      <option value="">T·∫•t c·∫£ ngh√†nh</option>
                    </select>
                  </label>
                  <hr />
                   end ng√†nh  
                  <label for="" class="region d-block font-weight-bold mb-3">
                    Lo·∫°i tr∆∞·ªùng
                  </label>
                  <label for="" class="locate d-block">
                    <input
                      type="checkbox"
                      name="loaiTruong"
                      value=""
                      id="DHCL"
                    />
                    <label for="DHCL">ƒê·∫°i h·ªçc c√¥ng l·∫≠p</label>
                  </label>
                  <label for="" class="locate d-block">
                    <input
                      type="checkbox"
                      name="loaiTruong"
                      value=""
                      id="DHTH"
                    />
                    <label for="DHTH">ƒê·∫°i h·ªçc t∆∞ th·ª•c</label>
                  </label>
                  <label for="" class="locate d-block">
                    <input type="checkbox" name="loaiTruong" value="" id="CD" />
                    <label for="CD">Cao ƒë·∫≥ng</label>
                  </label>
                  <label for="" class="locate d-block">
                    <input
                      type="checkbox"
                      name="loaiTruong"
                      value=""
                      id="DTN"
                    />
                    <label for="DTN">ƒê√†o t·∫°o ngh·ªÅ</label>
                  </label>
                   end 
                  <button class="btn btn-loc">L·ªçc</button>
                </div>
              </form>
            </div>
          </div>
           ket thuc sidebar 
          <div class="col-md-9" id="content">
            <div class="highlight-topic">
              <div class="row">
                <div class="col-md-1">
                  <div id="img-logo">
                    <a href="#">
                      <img
                        src="https://cdn.duytan.edu.vn/upload/images/logoDT-70.png"
                        alt=""
                        class="anh logo-university img-fluid"
                      />
                    </a>
                  </div>
                </div>
                <div class="col-md-11 padding-left-32">
                  <a href="#" class="university-name">
                    ƒê·∫°i H·ªçc Duy T√¢n
                  </a>
                  <span class="address">
                    254, Nguy·ªÖn VƒÉn Linh, H·∫£i Ch√¢u, ƒê√† N·∫µng
                  </span>
                  <span class="count-rate mr-3">
                    <i class="fas fa-star"></i> 200 ƒë√°nh gi√°
                  </span>
                  <span class="count-comment">
                    <i class="fas fa-comments"></i> 462 b√¨nh lu·∫≠n
                  </span>

                  <p class="demo-content">
                    Lorem ipsum dolor sit, amet consectetur adipisicing elit.
                    Maiores enim ab qui aperiam iste eos voluptate alias iure
                    voluptatum, amet culpa, vero, consectetur voluptatem!
                    Reprehenderit aut, tempora, quasi suscipit minima fugiat
                    consequatur quas nisi at est maiores ab iure vero dolorem
                    rem distinctio? Tempora, eligendi deserunt sint perspiciatis
                    quis recusandae.
                  </p>

                  <a href="#" class="detail">
                    Chi ti·∫øt <i class="fas fa-chevron-right"></i>
                  </a>
                  <i class="far fa-bookmark"></i>
                </div>
              </div>
            </div>

            <div class="highlight-topic">
                <div class="row">
                  <div class="col-md-1">
                    <div id="img-logo">
                      <a href="#">
                        <img
                          src="https://cdn.duytan.edu.vn/upload/images/logoDT-70.png"
                          alt=""
                          class="anh logo-university img-fluid"
                        />
                      </a>
                    </div>
                  </div>
                  <div class="col-md-11 padding-left-32">
                    <a href="#" class="university-name">
                      ƒê·∫°i H·ªçc Duy T√¢n
                    </a>
                    <span class="address">
                      254, Nguy·ªÖn VƒÉn Linh, H·∫£i Ch√¢u, ƒê√† N·∫µng
                    </span>
                    <span class="count-rate mr-3">
                      <i class="fas fa-star"></i> 200 ƒë√°nh gi√°
                    </span>
                    <span class="count-comment">
                      <i class="fas fa-comments"></i> 462 b√¨nh lu·∫≠n
                    </span>
  
                    <p class="demo-content">
                      Lorem ipsum dolor sit, amet consectetur adipisicing elit.
                      Maiores enim ab qui aperiam iste eos voluptate alias iure
                      voluptatum, amet culpa, vero, consectetur voluptatem!
                      Reprehenderit aut, tempora, quasi suscipit minima fugiat
                      consequatur quas nisi at est maiores ab iure vero dolorem
                      rem distinctio? Tempora, eligendi deserunt sint perspiciatis
                      quis recusandae.
                    </p>
  
                    <a href="#" class="detail">
                      Chi ti·∫øt <i class="fas fa-chevron-right"></i>
                    </a>
                    <i class="far fa-bookmark"></i>
                  </div>
                </div>
              </div><div class="highlight-topic">
                <div class="row">
                  <div class="col-md-1">
                    <div id="img-logo">
                      <a href="#">
                        <img
                          src="https://cdn.duytan.edu.vn/upload/images/logoDT-70.png"
                          alt=""
                          class="anh logo-university img-fluid"
                        />
                      </a>
                    </div>
                  </div>
                  <div class="col-md-11 padding-left-32">
                    <a href="#" class="university-name">
                      ƒê·∫°i H·ªçc Duy T√¢n
                    </a>
                    <span class="address">
                      254, Nguy·ªÖn VƒÉn Linh, H·∫£i Ch√¢u, ƒê√† N·∫µng
                    </span>
                    <span class="count-rate mr-3">
                      <i class="fas fa-star"></i> 200 ƒë√°nh gi√°
                    </span>
                    <span class="count-comment">
                      <i class="fas fa-comments"></i> 462 b√¨nh lu·∫≠n
                    </span>
  
                    <p class="demo-content">
                      Lorem ipsum dolor sit, amet consectetur adipisicing elit.
                      Maiores enim ab qui aperiam iste eos voluptate alias iure
                      voluptatum, amet culpa, vero, consectetur voluptatem!
                      Reprehenderit aut, tempora, quasi suscipit minima fugiat
                      consequatur quas nisi at est maiores ab iure vero dolorem
                      rem distinctio? Tempora, eligendi deserunt sint perspiciatis
                      quis recusandae.
                    </p>
  
                    <a href="#" class="detail">
                      Chi ti·∫øt <i class="fas fa-chevron-right"></i>
                    </a>
                    <i class="far fa-bookmark"></i>
                  </div>
                </div>
              </div>

             ------ph√¢n trang  

            <nav class="pagination justify-content-center">
              <ul class="pagination">
                <li class="page-item">
                  <span class="page-link">Tr∆∞·ªõc</span>
                </li>
                <li class="page-item">
                  <a href="" class="page-link">
                    1
                  </a>
                </li>
                <li class="page-item">
                  <a href="" class="page-link">
                    2
                  </a>
                </li>
                <li class="page-item">
                  <a href="" class="page-link">
                    3
                  </a>
                </li>
                <li class="page-item">
                  <a href="" class="page-link">
                    ...
                  </a>
                </li>
                <li class="page-item">
                  <span class="page-link">Sau</span>
                </li>
              </ul>
            </nav>
          </div>
          =========end content=========== 
        </div>
      </div>
    </div> -->

    <div class="bg-page">
      <img class="img-page" src="https://scontent.fsgn5-2.fna.fbcdn.net/v/t1.15752-9/192790895_327279702130471_6289504029749166418_n.png?_nc_cat=110&ccb=1-3&_nc_sid=ae9488&_nc_ohc=sxWU2UZhunUAX9mCyc0&_nc_ht=scontent.fsgn5-2.fna&oh=c8b19fced64da52f6178e7f04e92fb39&oe=60DA2674" />
    </div>

    <!-- chatbot -->
    <div class="chatbot">
    <section class="msger">
        <header class="msger-header">
          <div class="msger-header-title">
              <div class="title-chatbot">
                  <img src="https://scontent.fsgn2-5.fna.fbcdn.net/v/t1.15752-9/117872225_293361365287425_2195533828725515301_n.png?_nc_cat=104&ccb=1-3&_nc_sid=ae9488&_nc_ohc=Gyad7CO7mkMAX9RWOxk&_nc_ht=scontent.fsgn2-5.fna&oh=f1a0e65f189a8430e9c433213fe818a2&oe=60E5329D" />
                    <p>University Reviews </p>
              </div>
              <a href="#"><i class="far fa-times-circle"></i></a>
          </div>
        </header>
    
        <main class="msger-chat">
          <div class="msg left-msg">
            <div class="msg-img" style="background-image: url(https://image.flaticon.com/icons/svg/327/327779.svg)"></div>
    
            <div class="msg-bubble" style=" background: #33238ec2;">
              <div class="msg-info">
                <div class="msg-info-name">URs</div>
                <div class="msg-info-time"></div>
              </div>
    
              <div class="msg-text">
                Hi, toi la Bot de giup ban giai dap cac thac mac üòÑ
              </div>
            </div>
          </div>
    
        </main>
    
        <form class="msger-inputarea">
          <input type="text" class="msger-input" id="textInput" placeholder="Vui long nhap Tieng Viet khong dau..." autofocus>
          <button type="submit" class="msger-send-btn"><i class="fas fa-paper-plane"></i></button>
        </form>
      </section>
      </div>

      <!-- script chatbot -->

      <script src='https://use.fontawesome.com/releases/v5.0.13/js/all.js'></script>
  <script>

    const msgerForm = get(".msger-inputarea");
    const msgerInput = get(".msger-input");
    const msgerChat = get(".msger-chat");


    // Icons made by Freepik from www.flaticon.com
    const BOT_IMG = "https://image.flaticon.com/icons/svg/327/327779.svg";
    const PERSON_IMG = "https://image.flaticon.com/icons/svg/145/145867.svg";
    const BOT_NAME = "URs";
    const PERSON_NAME = "You";

    msgerForm.addEventListener("submit", event => {
      event.preventDefault();

      const msgText = msgerInput.value;
      if (!msgText) return;

      appendMessage(PERSON_NAME, PERSON_IMG, "right", msgText);
      msgerInput.value = "";
      botResponse(msgText);
    });

    function appendMessage(name, img, side, text) {
      //   Simple solution for small apps
      const msgHTML = `
        <div class="msg ${side}-msg">
        <div class="msg-img" style="background-image: url(${img})"></div>
        <div class="msg-bubble ${side}-bg">
            <div class="msg-info">
            <div class="msg-info-name">${name}</div>
            <div class="msg-info-time">${formatDate(new Date())}</div>
            </div>
            <div class="msg-text">${text}</div>
        </div>
        </div>
`;

      msgerChat.insertAdjacentHTML("beforeend", msgHTML);
      msgerChat.scrollTop += 500;
    }

    function botResponse(rawText) {

      // Bot Response
      $.get("/get", { msg: rawText }).done(function (data) {
        console.log(rawText);
        console.log(data);
        const msgText = data;
        appendMessage(BOT_NAME, BOT_IMG, "left", msgText);

      });

    }


    // Utils
    function get(selector, root = document) {
      return root.querySelector(selector);
    }

    function formatDate(date) {
      const h = "0" + date.getHours();
      const m = "0" + date.getMinutes();

      return `${h.slice(-2)}:${m.slice(-2)}`;
    }

  </script>
</body>
</html>